apiVersion: ships/v1
kind: macros
name: Send Remote Access Code Objective
type: macro
description: >-
  Adds an objective to send a remote access code, then clears it when the code
  is sent.
category: Misc.
active: true
blocks:
  - entity: this step
    variable: code
    value: >-
      {~Alpha,Beta,Gamma,Delta,Zeta,Lambda,Omicron}-RANDOM(100,999)-{~Ansible,Cyber,Matrix,Naidon,Skadov,Memory,Faraday,Bernal,Dyson,Protocol,Vector,Analog,Digital,Buffer,Cache,Crypto,Fragment,System,Duplex,Threading,Hyper,Interlace,Progressive,Simplex,Multiplex,Syntax,Token}
    id: blo-mgp2vjst3y
    type: SetVariable
  - action: objectives.add
    values:
      shipId: $shipId
      title: Send Remote Access Code
      description: 'Send this remote access code: {code}'
    id: blo-mces3u1345
    type: Action
  - property: objectiveId
    variable: objective
    id: blo-mcet2doq1l
    type: ResultPropertyIntoVariable
  - event: remoteAccess.send
    multiple: false
    persist: false
    triggerBlocks:
      - id: blo-mcet36ij6a
        type: ResultPropertyIntoVariable
        property: remoteAccessCodeId
        variable: remoteAccessCode
      - id: blo-mcet3xcm4x
        type: EntityPropertyIntoVariable
        entity: $remoteAccessCode
        component: remoteAccessCode
        property: code
        variable: codeInput
      - id: blo-mcet4gft1p
        type: IfCondition
        conditions:
          - comparison: '='
            value1: LOWERCASE({codeInput})
            value2: LOWERCASE({code})
        triggerBlocks:
          - id: blo-mcet6qkt29
            type: Action
            action: objectives.setState
            values:
              objectiveId: $objective
              state: complete
          - id: blo-mgty82hx19
            type: MacroSlot
    id: blo-mcet1tu93g
    type: EventCondition
assets: {}
lastSaved: 1769274573324
